"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UrlHashService = (function () {
    function UrlHashService() {
        var _this = this;
        this.getHash = function (hashValue) {
            var hash = hashValue ? hashValue : window.location.hash;
            if (hash.indexOf('#/') > -1) {
                hash = hash.substring(hash.indexOf('#/') + 2);
            }
            else if (hash.indexOf('#') > -1) {
                hash = hash.substring(1);
            }
            return hash;
        };
        this.getHashData = function (hashValue) {
            var hash = _this.getHash(hashValue);
            var searchRegex = /([^&=]+)=?([^&]*)/g;
            var hashData = {};
            var match = searchRegex.exec(hash);
            while (match) {
                var parameter = _this.decodeUrlData(match[1]);
                var value = _this.decodeUrlData(match[2]);
                hashData[parameter] = value;
                match = searchRegex.exec(hash);
            }
            return hashData;
        };
        this.clearHash = function () {
            window.location.hash = '';
        };
        this.decodeUrlData = function (s) {
            return decodeURIComponent(s.replace(/\+/g, ' '));
        };
    }
    return UrlHashService;
}());
exports.default = UrlHashService;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91cmwtaGFzaC1zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7SUFBQTtRQUFBLGlCQXFDQztRQXBDVSxZQUFPLEdBQUcsVUFBQyxTQUFrQjtZQUNoQyxJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsU0FBUyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1lBRXhELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2xELENBQUM7WUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hDLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdCLENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztRQUVLLGdCQUFXLEdBQUcsVUFBQyxTQUFrQjtZQUNwQyxJQUFNLElBQUksR0FBRyxLQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3JDLElBQU0sV0FBVyxHQUFHLG9CQUFvQixDQUFDO1lBQ3pDLElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUVwQixJQUFJLEtBQUssR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25DLE9BQU8sS0FBSyxFQUFFLENBQUM7Z0JBQ1gsSUFBTSxTQUFTLEdBQUcsS0FBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDL0MsSUFBTSxLQUFLLEdBQUcsS0FBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFFM0MsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEtBQUssQ0FBQztnQkFDNUIsS0FBSyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkMsQ0FBQztZQUVELE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDcEIsQ0FBQyxDQUFDO1FBRUssY0FBUyxHQUFHO1lBQ2YsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQzlCLENBQUMsQ0FBQztRQUVNLGtCQUFhLEdBQUcsVUFBQyxDQUFTO1lBQzlCLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JELENBQUMsQ0FBQztJQUNOLENBQUM7SUFBRCxxQkFBQztBQUFELENBckNBLEFBcUNDLElBQUEiLCJmaWxlIjoidXJsLWhhc2gtc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVybEhhc2hTZXJ2aWNlIHtcclxuICAgIHB1YmxpYyBnZXRIYXNoID0gKGhhc2hWYWx1ZT86IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgbGV0IGhhc2ggPSBoYXNoVmFsdWUgPyBoYXNoVmFsdWUgOiB3aW5kb3cubG9jYXRpb24uaGFzaDtcclxuXHJcbiAgICAgICAgaWYgKGhhc2guaW5kZXhPZignIy8nKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIGhhc2ggPSBoYXNoLnN1YnN0cmluZyhoYXNoLmluZGV4T2YoJyMvJykgKyAyKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGhhc2guaW5kZXhPZignIycpID4gLTEpIHtcclxuICAgICAgICAgICAgaGFzaCA9IGhhc2guc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGhhc2g7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBnZXRIYXNoRGF0YSA9IChoYXNoVmFsdWU/OiBzdHJpbmcpOiBhbnkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGhhc2ggPSB0aGlzLmdldEhhc2goaGFzaFZhbHVlKTtcclxuICAgICAgICBjb25zdCBzZWFyY2hSZWdleCA9IC8oW14mPV0rKT0/KFteJl0qKS9nO1xyXG4gICAgICAgIGNvbnN0IGhhc2hEYXRhID0ge307XHJcblxyXG4gICAgICAgIGxldCBtYXRjaCA9IHNlYXJjaFJlZ2V4LmV4ZWMoaGFzaCk7XHJcbiAgICAgICAgd2hpbGUgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtZXRlciA9IHRoaXMuZGVjb2RlVXJsRGF0YShtYXRjaFsxXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5kZWNvZGVVcmxEYXRhKG1hdGNoWzJdKTtcclxuXHJcbiAgICAgICAgICAgIGhhc2hEYXRhW3BhcmFtZXRlcl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgbWF0Y2ggPSBzZWFyY2hSZWdleC5leGVjKGhhc2gpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGhhc2hEYXRhO1xyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgY2xlYXJIYXNoID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyc7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgZGVjb2RlVXJsRGF0YSA9IChzOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XHJcbiAgICB9O1xyXG59Il19
